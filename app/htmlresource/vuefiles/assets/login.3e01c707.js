import{_ as w,d as h,h as _,u as v,i as C,j as b,k as T,s as $,l as k,r as p,o as V,c as E,a as s,t as i,b as d,w as l,n as S,f as A,E as m,p as D,e as B}from"./index.79adc836.js";import{l as F}from"./left.f31b3d0a.js";const j=h({setup(){const e=_(),o=v();C();const n=b({name:"",password:"",loading:!1}),t=T("password"),g=()=>{t.value===""?t.value="password":t.value=""},c=()=>new Promise((r,a)=>{if(n.name===""){m.warning({message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A",type:"warning"});return}if(n.password===""){m.warning({message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",type:"warning"});return}r(!0)});return{register:()=>{o.push("/register")},loginLeftPng:F,systemTitle:$,systemSubTitle:k,form:n,passwordType:t,passwordTypeChange:g,submit:()=>{c().then(()=>{n.loading=!0;let r={username:n.name,password:n.password};e.dispatch("user/login",r).then(async()=>{m.success({message:"\u767B\u5F55\u6210\u529F",type:"success",showClose:!0,duration:1e3}),location.reload()}).finally(()=>{n.loading=!1})})}}}}),y=e=>(D("data-v-358162b6"),e=e(),B(),e),z={class:"container"},I={class:"box"},N={class:"login-content-left"},P=["src"],L={class:"login-content-left-mask"},R={class:"box-inner"},U=y(()=>s("i",{class:"sfont system-xingmingyonghumingnicheng"},null,-1)),M=y(()=>s("i",{class:"sfont system-mima"},null,-1)),q={class:"fixed-top-right"};function G(e,o,n,t,g,c){const u=p("el-input"),f=p("el-button"),r=p("el-form");return V(),E("div",z,[s("div",I,[s("div",N,[s("img",{src:e.loginLeftPng},null,8,P),s("div",L,[s("div",null,i(e.$t(e.systemTitle)),1),s("div",null,i(e.$t(e.systemSubTitle)),1)])]),s("div",R,[s("h1",null,i(e.$t("message.system.welcome")),1),d(r,{class:"form"},{default:l(()=>[d(u,{size:"large",modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=a=>e.form.name=a),placeholder:e.$t("message.system.userName"),type:"text",maxlength:"50"},{prepend:l(()=>[U]),_:1},8,["modelValue","placeholder"]),d(u,{size:"large",ref:"password",modelValue:e.form.password,"onUpdate:modelValue":o[2]||(o[2]=a=>e.form.password=a),type:e.passwordType,placeholder:e.$t("message.system.password"),name:"password",maxlength:"50"},{prepend:l(()=>[M]),append:l(()=>[s("i",{class:S(["sfont password-icon",e.passwordType?"system-yanjing-guan":"system-yanjing"]),onClick:o[1]||(o[1]=(...a)=>e.passwordTypeChange&&e.passwordTypeChange(...a))},null,2)]),_:1},8,["modelValue","type","placeholder"]),d(f,{type:"primary",loading:e.form.loading,onClick:e.submit,style:{width:"100%"},size:"medium"},{default:l(()=>[A(i(e.$t("message.system.login")),1)]),_:1},8,["loading","onClick"])]),_:1}),s("div",q,[s("span",{onClick:o[3]||(o[3]=(...a)=>e.register&&e.register(...a))},"\u6CE8\u518C")])])])])}var K=w(j,[["render",G],["__scopeId","data-v-358162b6"]]);export{K as default};
